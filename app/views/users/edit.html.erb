<% provide(:title, '用户信息修改') %>
<div class="row">
  <div class="col-md-9">
    <div class="panel panel-default">
      <div class="panel-heading">
        修改个人资料
      </div>
      <div class="panel-body" id="user-edit">
        <%= form_for(@user) do |f| %>
        <%= render 'shared/error_messages', object: f.object %>
        <%= f.label :name, '用户名' %>
        <%= f.text_field :name, class: 'form-control' %>
        <%= f.label :email, '邮箱' %>
        <%= f.text_field :email, class: 'form-control', readonly: true %>
        <% if teacher_admin? %>
        <% else %>
        <%= f.label :sid, '学号' %>
        <%= f.text_field :sid, class: 'form-control' %>
        <%= f.label :sclass, '班级' %>
        <%= f.select :stuclass_id, Stuclass.all.collect { |s| [ s.scname, s.id ] }, include_blank: true %>
        <% end %>
        <%= f.label :password, '密码' %>
        <%= f.password_field :password, class: 'form-control' %>
        <%= f.label :password_confirmation, "确认密码" %>
        <%= f.password_field :password_confirmation, class: 'form-control' %>
        <%= f.submit "保存修改", class: "btn btn-primary" %>
        <% end %>
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <%= render 'panel/user_info' %>
  </div>
</div>
